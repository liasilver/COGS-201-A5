%pick up fox
action(state(Side,Side,Side3,Side4),  
       pickup_fox,  
       state(boat(Side),boat(Side),Side3,Side4)).  

%cross with fox
action(state(boat(Side),boat(Side),east_side,west_side),
         cross_fox(Other_Side),  
         state(boat(Other_Side ),boat(Other_Side),east_side,west_side)).  

action(state(boat(Side),boat(Side),west_side,east_side),
         cross_fox(Other_Side),  
         state(boat(Other_Side ),boat(Other_Side),west_side,east_side)).  

%drop fox
action(state(boat(Other_Side),boat(Other_Side),Side3,Side4),  
       drop_fox,  
       state(Side,Side,Side3,Side4)). 


%pick up goose
action(state(Side,Side2,Side,Side4),  
       pickup_goose,  
       state(boat(Side),Side2,boat(Side),Side4)).   

%cross with goose
action(state(boat(Side),Side2,boat(Side),Side4),  
       cross_goose(Other_Side),  
       state(boat(Other_Side),Side2,boat(Other_Side),Side4)).  

%drop goose
action(state(boat(Other_Side),Side2,boat(Other_Side),Side4),  
       drop_goose,  
       state(Other_Side,Side2,Other_Side,Side4)). 

%pick up grain
action(state(Side,Side2,Side3,Side),  
       pickup_grain,  
       state(boat(Side),Side2,Side3,boat(Side))). 

%cross with grain
action(state(boat(Side),east_side,west_side,boat(Side)),
       cross_grain(Other_Side),  
       state(boat(Other_Side),east_side,west_side,boat(Other_Side))).  

action(state(boat(Side),west_side,east_side,boat(Side)),
       cross_grain(Other_Side),  
       state(boat(Other_Side),west_side,east_side,boat(Other_Side))). 

%drop grain
action(state(boat(Other_Side),Side2,Side3,boat(Other_Side)),  
       drop_grain,  
       state(Other_Side,Side2,Side3,Other_Side)). 

%cross alone
action(state(_,Side2,Side3,Side4),  
       cross_alone(Other_Side),  
       state(Other_Side,Side2,Side3,Side4)).  

plan(State,State,[]).  
plan(State1,Goal,[Action1|RestPlan]):-  
    action(State1, Action1, State2),  
    plan(State2, Goal, RestPlan).  

bfirst_plan(Plan) :-  

    append(Plan,_,_),  

    plan(state(west_side,west_side,west_side,west_side), state(east_side,east_side,east_side,east_side), Plan). 
